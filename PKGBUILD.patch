--- PKGBUILD	2024-02-18 16:41:10.491640655 +0100
+++ PKGBUILD.patched	2024-02-18 19:05:38.578097333 +0100
@@ -12,9 +12,9 @@
 license=('GPL3')
 makedepends=('git' 'cmake' 'extra-cmake-modules' 'python-jsonschema' 'python-pyaml' 'python-unidecode' 'gawk')
 conflicts=('calamares_current')
-depends=( 'qt5-svg' 'qt5-webengine' 'yaml-cpp' 'networkmanager' 'upower' 'kcoreaddons5' 'kconfig5' 'ki18n5' 'kservice5' \
-'kwidgetsaddons5' 'kpmcore' 'squashfs-tools' 'rsync' 'pybind11' 'cryptsetup' 'qt5-xmlpatterns' 'doxygen' 'dmidecode' \
-'gptfdisk' 'hwinfo' 'kparts5' 'polkit-qt5' 'python' 'solid5' 'qt5-tools' 'libpwquality' 'ckbcomp' 'qt5-quickcontrols2' )
+depends=( 'qt6-svg' 'qt6-webengine' 'yaml-cpp' 'networkmanager' 'upower' 'kcoreaddons' 'kconfig' 'ki18n' 'kservice' \
+'kwidgetsaddons' 'kpmcore' 'squashfs-tools' 'rsync' 'pybind11' 'cryptsetup' 'doxygen' 'dmidecode' \
+'gptfdisk' 'hwinfo' 'kparts' 'polkit-qt6' 'python' 'solid' 'qt6-tools' 'libpwquality' 'ckbcomp' 'qt6-declarative' )
 provides=("calamares")
 options=(!strip !emptydirs)
 source=("git+https://github.com/endeavouros-team/$_reponame.git#branch=calamares")
@@ -49,6 +49,7 @@
     -DBoost_NO_BOOST_CMAKE=ON \
     -DCMAKE_INSTALL_PREFIX=/usr \
     -DINSTALL_CONFIG=OFF \
+    -DWITH_QT6=ON \
     -DSKIP_MODULES="dracut \
     dummycpp dummyprocess dummypython dummypythonqt \
     finishedq initcpio keyboardq license localeq notesqml oemid \
